<template>
  <div>
    <div class="col-lg-4 col-md-6 col-sm-6" v-for="(prod, index) in products" :key="index">
      <div class="product">
        <div class="product__image">
          <router-link :to="`/${this.male}/${prod._id}`" class="product__img" :style="{backgroundImage:  'url('+ uri +'/image/'+ prod.img +')'}"></router-link>
          <button class="product__cart">
            <img src="@/assets/img/add-cart.png">
          </button>
        </div>
        <div class="product__info">
          <div class="product__info--all">
            <div class="product__info--name">
              <router-link :to="`/product/${prod.id}`">{{prod.title}}</router-link>
            </div>
            <div class="product__info--oldprice">
              {{getPrice(prod.price)}}
              <span>sum</span>
            </div>
            <div class="product__info--colors">+{{prod.color}} Цвета</div> <!-- переменная скидки -->
          </div>
          <button v-on:click="isLike =!isLike" @click="likeToggle()" class="product__info--like">
            <svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink"
            xmlns:svgjs="http://svgjs.com/svgjs" width="20" height="20" x="0" y="0" viewBox="0 0 506.42094 506"
            style="enable-background:new 0 0 512 512" xml:space="preserve" class="">
            <g>
              <path xmlns="http://www.w3.org/2000/svg"
                d="m258.648438 68.382812c-1.835938 0-3.46875-1.175781-4.050782-2.917968-.578125-1.742188.019532-3.660156 1.488282-4.761719l28.902343-21.488281c-.394531-.328125-.730469-.722656-.988281-1.167969-1.179688-2.039063-.484375-4.648437 1.550781-5.828125l39.757813-22.9375c1.957031-1.113281 4.441406-.515625 5.675781 1.363281 1.234375 1.882813.796875 4.398438-1 5.753907l-9.710937 7.21875 37.546874-21.675782c1.320313-.773437 2.957032-.78125 4.285157-.019531s2.144531 2.179687 2.140625 3.710937-.828125 2.941407-2.15625 3.699219l-101.308594 58.476563c-.648438.378906-1.386719.574218-2.132812.574218zm0 0"
                fill="#ff0000" data-original="#eb5463" class=""></path>
              <path xmlns="http://www.w3.org/2000/svg"
                d="m247.460938 447.152344c-1.796876.003906-3.40625-1.113282-4.023438-2.800782-.613281-1.6875-.109375-3.582031 1.265625-4.734374l22.1875-18.636719-27.015625 15.589843c-1.984375 1.175782-4.539062.566407-5.777344-1.375-1.238281-1.945312-.710937-4.519531 1.195313-5.820312l13.882812-9.710938-16.488281 9.523438c-1.992188 1.15625-4.539062.519531-5.757812-1.433594s-.667969-4.519531 1.246093-5.800781l26.769531-18.023437-29.988281 17.304687c-1.988281 1.132813-4.515625.496094-5.730469-1.441406-1.210937-1.941407-.679687-4.492188 1.207032-5.785157l75.007812-50.722656-81.253906 46.933594c-2 1.199219-4.597656.566406-5.824219-1.421875-1.222656-1.984375-.625-4.589844 1.34375-5.839844l104.40625-68.683593-111.273437 64.238281c-2.007813 1.085937-4.511719.402343-5.6875-1.550781-1.175782-1.957032-.609375-4.492188 1.292968-5.753907l59.734376-37.359375-63.25 36.515625c-2.011719 1.089844-4.527344.398438-5.699219-1.566406s-.585938-4.503906 1.328125-5.757813l14.679687-9.011718-16.777343 9.6875c-2.023438 1.210937-4.644532.554687-5.855469-1.46875-1.210938-2.019532-.554688-4.640625 1.46875-5.851563l85.632812-53.328125-89.867187 51.832032c-2.011719 1.078124-4.511719.378906-5.679688-1.582032-1.164062-1.964844-.578125-4.496094 1.328125-5.746094l10.429688-6.359374-12.425781 7.167968c-2.003907 1.105469-4.523438.429688-5.707032-1.53125-1.183594-1.957031-.613281-4.5 1.296875-5.761718l151.765625-96.164063-158.816406 91.683594c-2.015625 1.132812-4.566406.457031-5.753906-1.527344-1.1875-1.988281-.578125-4.558594 1.378906-5.796875l101.425781-62.753906-105.8125 61.082031c-2.023437 1.152344-4.59375.472656-5.78125-1.53125-1.1875-2-.550781-4.585937 1.429688-5.808594l25.496093-15.503906-27.765624 16.035156c-2.023438 1.152344-4.597657.472657-5.785157-1.53125-1.1875-2.003906-.550781-4.585937 1.433594-5.808593l13.089844-7.933594-15.097657 8.746094c-2.027343 1.199218-4.648437.53125-5.847656-1.5-1.203125-2.027344-.53125-4.648438 1.496094-5.847657l23.039062-13.976562-25.265624 14.582031c-2.015626 1.136719-4.570313.457031-5.757813-1.527344-1.1875-1.988281-.574219-4.554687 1.378906-5.792968l121.300781-75-126.136718 72.847656c-2.011719 1.109375-4.539063.425781-5.71875-1.542969-1.179688-1.96875-.59375-4.515625 1.332031-5.769531l141.335937-87.808594-146.933593 84.832031c-2.015625 1.113281-4.554688.425781-5.734375-1.554687-1.175782-1.980469-.570313-4.539063 1.371094-5.777344l89.507812-54.792969-93.226562 53.820313c-1.308594.785156-2.933594.8125-4.269532.074218-1.332031-.742187-2.171875-2.136718-2.195312-3.664062-.027344-1.523438.761718-2.945312 2.070312-3.730469l157.746094-98.296875-163.992188 94.71875c-2.019531 1.097656-4.542968.402344-5.710937-1.574218-1.167969-1.976563-.566406-4.523438 1.367187-5.761719l27.222657-16.488281-29.492188 16.980468c-2.011719 1.109375-4.539062.425782-5.71875-1.542968-1.179687-1.96875-.589843-4.515626 1.332031-5.769532l156.679688-97.527344-162.875 94.011719c-2.023438 1.207031-4.644531.542969-5.847656-1.480469-1.207032-2.023437-.546875-4.640624 1.480468-5.847656l117.253907-72.140625-121.769531 70.3125c-2.027344 1.203125-4.648438.53125-5.851563-1.496093-1.199219-2.03125-.53125-4.648438 1.5-5.851563l33.144531-20.078125-35.527344 20.480469c-2.003906 1.085937-4.511718.402343-5.6875-1.550781-1.175781-1.957032-.605468-4.492188 1.292969-5.753907l162.988281-101.886719-169.59375 97.910157c-2.023437 1.203125-4.644531.539062-5.847656-1.488281-1.203125-2.027344-.539062-4.644532 1.488282-5.851563l84.761718-51.882813-88.183594 50.910157c-2 1.070312-4.492187.386719-5.664062-1.558594-1.171875-1.941406-.617188-4.464844 1.261719-5.738281l162.714843-102.289063-168.371093 97.207031c-2.019531 1.09375-4.542969.398438-5.710938-1.578124-1.171875-1.976563-.566406-4.523438 1.367188-5.761719l15.53125-9.386719-16.351563 9.402344c-1.3125.78125-2.9375.800781-4.269531.054687-1.328125-.746093-2.160156-2.144531-2.179687-3.667969-.019532-1.527343.777343-2.945312 2.089843-3.726562l41.0625-25.070312-41.414062 23.894531c-2.011719 1.105469-4.535157.425781-5.71875-1.542969-1.179688-1.96875-.589844-4.519531 1.332031-5.769531l11.664062-7.269531-11.628906 6.707031c-2.007812 1.148437-4.566406.484375-5.765625-1.496094-1.199219-1.976563-.601562-4.550781 1.34375-5.800781l49.640625-31.523438-49.066406 28.324219c-1.992188 1.097656-4.492188.441406-5.691406-1.488281-1.195313-1.933594-.667969-4.464844 1.203125-5.757813l98.722656-65.519531-98.988281 57.175781c-1.992188 1.132813-4.527344.488281-5.734375-1.460937-1.210938-1.945313-.664063-4.503906 1.238281-5.785156l94.386719-62.917969-92.671875 53.503906c-2 1.160156-4.554688.519531-5.769532-1.445313-1.214843-1.960937-.648437-4.535156 1.28125-5.804687l76.210938-50.355469-72.183594 41.691406c-1.988281 1.132813-4.515625.496094-5.730468-1.441406-1.214844-1.941406-.679688-4.492187 1.207031-5.785156l81.125-54.945312-75.007813 43.261718c-1.976562 1.136719-4.5.515625-5.722656-1.410156s-.71875-4.472656 1.148438-5.78125l74.515624-51.96875-64.710937 37.359375c-1.964844 1.109375-4.457031.496094-5.683594-1.402344-1.222656-1.898437-.753906-4.425781 1.070313-5.757812l55.933594-40.105469-40.875 23.585938c-1.90625 1.101562-4.34375.566406-5.617188-1.230469-1.273438-1.800781-.964844-4.273438.710938-5.707031l34.917968-29.867188c-2.050781.417969-4.101562-.710938-4.84375-2.667969-.742187-1.957031.046875-4.164062 1.859375-5.207031l37.996094-21.941406c1.910156-1.101563 4.347656-.570313 5.621094 1.230468 1.269531 1.800782.964843 4.273438-.710938 5.707032l-34.023437 29.097656 75.585937-43.628906c1.964844-1.078125 4.425781-.457032 5.640625 1.425781 1.210938 1.878906.765625 4.378906-1.023437 5.722656l-55.910157 40.109375 76.296876-44.050781c1.976562-1.121094 4.480468-.496094 5.703124 1.417969 1.222657 1.914062.730469 4.449218-1.121093 5.769531l-74.546875 51.992187 91.09375-52.589843c1.988281-1.132813 4.515625-.496094 5.730468 1.441406 1.214844 1.941406.679688 4.492187-1.207031 5.785156l-81.128906 54.980469 92.699219-53.511719c1.988281-1.101562 4.492187-.445312 5.6875 1.488281 1.199218 1.929688.671875 4.460938-1.199219 5.753907l-76.246094 50.347656 84.414063-48.714844c1.984375-1.085937 4.472656-.429687 5.667968 1.492188 1.195313 1.921875.679688 4.441406-1.171874 5.742187l-94.351563 62.890625 102.738281-59.316406c2.003906-1.238281 4.636719-.625 5.875 1.378906 1.242188 2.003907.625 4.632813-1.375 5.875l-98.757812 65.527344 105.875-61.121094c2.007812-1.148437 4.566406-.488281 5.765625 1.492188s.601562 4.554687-1.347657 5.800781l-49.699218 31.574219 53.273437-30.71875c2.003907-1.058594 4.484375-.363281 5.648438 1.578125 1.167969 1.941406.613281 4.453125-1.261719 5.726562l-11.570312 7.226563 125.355468-72.378907c2.027344-1.203124 4.644532-.539062 5.847656 1.488282 1.207032 2.027344.539063 4.644531-1.488281 5.847656l-41.054687 25.023438 55.46875-32c2.027344-1.203126 4.648437-.53125 5.847656 1.496093 1.203125 2.027344.53125 4.648438-1.496094 5.847657l-15.359375 9.328124 24.746094-14.265624c2.007813-1.128907 4.550781-.457032 5.738281 1.519531 1.191406 1.972656.597656 4.53125-1.335937 5.785156l-162.832031 102.296875 178.816406-103.253906c2.019531-1.152344 4.59375-.472656 5.78125 1.53125 1.1875 2 .550781 4.585937-1.429688 5.808594l-84.890625 51.964843 92.792969-53.5625c2.015625-1.160156 4.589844-.496093 5.789062 1.5 1.195313 1.992188.578126 4.578125-1.394531 5.8125l-162.894531 101.847657 173.484375-100.15625c2.015625-1.097657 4.539063-.402344 5.710937 1.574218 1.167969 1.976563.5625 4.523438-1.367187 5.761719l-33.023437 20.019531 36.195312-20.898437c2.011719-1.089844 4.527344-.398438 5.699219 1.566406s.585937 4.503906-1.328125 5.757813l-117.300782 72.199218 122.828126-70.910156c2.015624-1.164062 4.59375-.496094 5.789062 1.496094 1.199219 1.996094.578125 4.582031-1.394531 5.816406l-156.710938 97.542969 161.535157-93.261719c2.015624-1.09375 4.539062-.398438 5.710937 1.578125 1.167969 1.972656.5625 4.523437-1.367187 5.761719l-27.113282 16.410156 28.535156-16.46875c2.015626-1.164062 4.59375-.496094 5.789063 1.496094 1.199219 1.996094.578125 4.582031-1.394531 5.816406l-157.863282 98.355469 160.597657-92.707031c2.023437-1.203126 4.644531-.535157 5.847656 1.488281 1.203125 2.027343.539063 4.648437-1.488281 5.851562l-89.386719 54.730469 90.164063-52.050781c2.007812-1.109375 4.535156-.425781 5.714843 1.542969 1.183594 1.96875.59375 4.515624-1.332031 5.769531l-141.371094 87.789062 141.347656-81.59375c2.007813-1.074219 4.503907-.378906 5.671876 1.570313 1.167968 1.953125.597656 4.480468-1.292969 5.742187l-121.328125 75.015625 120.601562-69.605468c2.027344-1.203126 4.648438-.53125 5.847656 1.496093 1.203126 2.03125.53125 4.648438-1.496093 5.851563l-23.167969 13.984375 19.867188-11.46875c2.027343-1.199219 4.644531-.527344 5.84375 1.503906 1.199218 2.027344.527343 4.644531-1.5 5.84375l-12.878907 7.808594 9.4375-5.453125c2.023438-1.152344 4.597657-.472656 5.78125 1.53125 1.1875 2.003906.550781 4.585937-1.429687 5.808594l-25.351563 15.410156 21.238281-12.253906c2.003907-1.042969 4.476563-.34375 5.636719 1.597656 1.15625 1.9375.601563 4.445312-1.265625 5.714844l-101.597656 62.910156 95.855469-55.332032c1.996093-1.054687 4.472656-.371093 5.640625 1.5625 1.171875 1.933594.632812 4.445313-1.230469 5.726563l-151.695313 96.128906 142.503907-82.273437c2.027343-1.203125 4.648437-.535156 5.851562 1.492187 1.203125 2.023438.535157 4.644531-1.488281 5.847657l-10.429688 6.359374 1.9375-1.121093c2.011719-1.105469 4.535157-.425781 5.71875 1.542969 1.179688 1.96875.589844 4.519531-1.332031 5.773437l-85.660156 53.332031 71.273437-41.191406c2.015626-1.113281 4.550782-.425781 5.730469 1.554688 1.175781 1.980468.570313 4.535156-1.371093 5.777343l-17.921876 11.023438c2.039063-.609375 4.214844.375 5.101563 2.308593.886719 1.933594.214844 4.222657-1.574219 5.371094l-59.855468 37.46875 28.800781-16.628906c2.003906-1.199219 4.597656-.566406 5.824219 1.417969 1.226562 1.988281.625 4.589843-1.34375 5.84375l-104.292969 68.640625 59.375-34.277344c1.988281-1.132812 4.515625-.496094 5.726562 1.445312 1.214844 1.9375.683594 4.488282-1.207031 5.78125l-75.089844 50.75 32.425782-18.714843c1.292968-.808594 2.917968-.863281 4.261718-.148438 1.347656.714844 2.210938 2.09375 2.261719 3.617188.054687 1.523437-.707031 2.960937-2 3.765625l-30.449219 20.480468c1.65625-.21875 3.289063.53125 4.199219 1.929688 1.230469 1.929688.722656 4.484375-1.152344 5.792969l-26.691406 18.671875c1.496094.457031 2.621094 1.695312 2.9375 3.226562.3125 1.535156-.238281 3.113282-1.4375 4.121094l-34.5 29.089844c1.058594.898437 1.613281 2.253906 1.488281 3.636718-.128906 1.382813-.917968 2.617188-2.117187 3.308594l-24.601563 14.199219c-.660156.386719-1.40625.585937-2.167968.574219zm0 0"
                :fill="likeColor" data-original="#eb5463" class=""></path>
              <path xmlns="http://www.w3.org/2000/svg"
                d="m247.035156 451.402344c1.527344 1.367187 3.546875 2.058594 5.59375 1.90625 2.046875-.148438 3.945313-1.125 5.257813-2.703125l133.921875-137.667969c49.863281-51.199219 111.046875-97.5 114.613281-174.546875-3.335937-72.234375-54.035156-134.066406-128.855469-137.992187-53.402344-2.808594-89.480468 26.453124-124.296875 61.566406-53.152343-52.480469-120.914062-86.332032-192.230469-38.878906-72.898437 48.539062-80.28125 149.804687-23.328124 213.207031 66.695312 74.238281 139.707031 143.574219 209.324218 215.109375zm-235.078125-324.421875c6.449219-68.761719 68.453125-127.847657 140.125-115.832031 41.601563 6.972656 67.261719 33.058593 94.953125 61.527343 1.527344 1.367188 3.546875 2.054688 5.59375 1.902344 2.050782-.148437 3.945313-1.128906 5.257813-2.707031 31.683593-32.5625 61.160156-61.53125 110.738281-61.78125 71.746094-.367188 122.070312 60.585937 125.234375 129.160156-3.601563 77.757812-73.539063 129.707031-124.046875 181.640625l-116.542969 119.765625-176.945312-181.84375c-36.128907-37.179688-69.710938-74.835938-64.367188-131.832031zm0 0"
                fill="#262626" data-original="#262626" class=""></path>
            </g>
          </svg>
          </button>
        </div>
      </div>
    </div>
  </div>
</template>

<script>
  export default {
    props: ['products'],
    data() {
      return {
        likeColor: '#ffffff00',
        isLike: false,
        male: this.$route.params.slug
      }
    },
    computed:{
      uri(){
        return this.$store.getters.getUri
      }
    },
    methods:{
      likeToggle(){
        (this.isLike == true) ? this.likeColor = '#ff0000' : this.likeColor = '#ffffff00'
      },
      getPrice(value){
        value = new Number(value)
        return value.toLocaleString('ru-RU')
      }
    },
  }
</script>

<style lang="scss" scoped>
  @import '@/assets/grid.scss';

  .row {
    display: flex;
    flex-wrap: wrap;
  }

  .product {
    margin-bottom: 40px;

    &__image {
      position: relative;

      button {
        border: 0px;
        background-color: unset;
      }
    }

    &__img {
      // height: 325px;
      aspect-ratio: 1/1.3;
      @include bg();
      display: inline-block;
      display: block;
    }

    &__cart {
      position: absolute;
      bottom: 15px;
      right: 15px;
    }

    &__info {
      display: flex;
      justify-content: space-between;

      &--name {
        a {
          color: #000;
        }

        font-size: 16px;
        font-family: 'mon-m';
      }

      &--oldprice, &--newprice{
        // &--newprice Добавить класс для контроли на вю
        font-size: 15px;
        font-family: 'mon-m';
        height: 20px;
        color: #000;
      }

      &--colors {
        font-size: 12px;
        font-family: 'mon-r';
        color: #000;
      }

      button {
        border: 0px;
        background-color: unset;
        height: 24px;
        margin-top: 15px;

        img {
          height: 18px;
          width: 18px;
        }
      }
    }
  }
</style>>